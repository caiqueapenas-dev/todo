<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>App de Agenda | Novo Visual</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Custom scrollbar for dark theme */
        #appointmentList::-webkit-scrollbar {
            width: 8px;
        }
        #appointmentList::-webkit-scrollbar-track {
            background: #1f2937; /* gray-800 */
            border-radius: 10px;
        }
        #appointmentList::-webkit-scrollbar-thumb {
            background: #4b5563; /* gray-600 */
            border-radius: 10px;
        }
        #appointmentList::-webkit-scrollbar-thumb:hover {
            background: #6b7280; /* gray-500 */
        }
        /* Style for date and time input icons */
        input[type="date"]::-webkit-calendar-picker-indicator,
        input[type="time"]::-webkit-calendar-picker-indicator {
            filter: invert(0.8);
            cursor: pointer;
        }
    </style>
</head>
<body class="bg-gray-900 text-slate-200 flex items-center justify-center min-h-screen p-4">

    <div class="bg-gray-800 w-full max-w-2xl mx-auto rounded-2xl shadow-2xl shadow-black/30 p-6 md:p-8 border border-gray-700">
        
        <!-- Cabeçalho -->
        <header class="mb-8 text-center">
            <h1 class="text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-teal-400 to-cyan-500">Agenda PRO</h1>
            <p class="text-slate-400 mt-2">Seus compromissos, em um só lugar.</p>
        </header>

        <!-- Formulário para Adicionar Compromisso -->
        <div class="bg-black/20 p-6 rounded-xl mb-8">
            <h2 class="text-xl font-semibold mb-5 text-slate-100">Adicionar Compromisso</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="md:col-span-1">
                    <label for="date" class="block text-sm font-medium text-slate-400 mb-1">Data</label>
                    <input type="date" id="date" class="w-full bg-gray-700 text-slate-200 px-4 py-2 border border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition">
                </div>
                <div class="md:col-span-1">
                    <label for="time" class="block text-sm font-medium text-slate-400 mb-1">Hora</label>
                    <input type="time" id="time" class="w-full bg-gray-700 text-slate-200 px-4 py-2 border border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition">
                </div>
                <div class="md:col-span-2">
                    <label for="description" class="block text-sm font-medium text-slate-400 mb-1">Descrição</p>
                    <textarea id="description" rows="3" class="w-full bg-gray-700 text-slate-200 px-4 py-2 border border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition" placeholder="Ex: Reunião de alinhamento semanal..."></textarea>
                </div>
            </div>
            <button id="addButton" class="mt-5 w-full bg-teal-500 text-white font-bold py-3 px-6 rounded-lg hover:bg-teal-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-teal-500 transition-all transform hover:scale-[1.02] active:scale-[0.98]">
                Adicionar
            </button>
        </div>

        <!-- Lista de Compromissos -->
        <div>
            <h2 class="text-xl font-semibold mb-4 text-slate-100">Próximos Compromissos</h2>
            <div id="appointmentList" class="space-y-3 max-h-80 overflow-y-auto pr-2">
                <!-- Compromissos serão inseridos aqui via JS -->
                 <p id="emptyMessage" class="text-slate-500 text-center py-8">Você está livre. Nenhum compromisso agendado!</p>
            </div>
        </div>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Elementos da DOM
            const dateInput = document.getElementById('date');
            const timeInput = document.getElementById('time');
            const descriptionInput = document.getElementById('description');
            const addButton = document.getElementById('addButton');
            const appointmentList = document.getElementById('appointmentList');
            const emptyMessage = document.getElementById('emptyMessage');

            // Carrega os compromissos do localStorage ou inicializa um array vazio
            let appointments = JSON.parse(localStorage.getItem('appointments-dark')) || [];

            // Função para renderizar os compromissos na tela
            const renderAppointments = () => {
                appointmentList.innerHTML = ''; // Limpa a lista antes de renderizar

                if (appointments.length === 0) {
                    appointmentList.appendChild(emptyMessage);
                    emptyMessage.style.display = 'block';
                    return;
                }
                
                emptyMessage.style.display = 'none';

                // Ordena os compromissos por data e hora
                const sortedAppointments = appointments.sort((a, b) => {
                    const dateA = new Date(`${a.date}T${a.time}`);
                    const dateB = new Date(`${b.date}T${b.time}`);
                    return dateA - dateB;
                });

                // Cria e adiciona o elemento HTML para cada compromisso
                sortedAppointments.forEach(app => {
                    const appointmentElement = document.createElement('div');
                    appointmentElement.className = 'bg-gray-700/50 p-4 rounded-lg flex items-center justify-between gap-4 border border-transparent hover:border-teal-500/50 transition-all';
                    
                    const formattedDate = new Date(`${app.date}T00:00:00`).toLocaleDateString('pt-BR', {
                        day: '2-digit',
                        month: 'short'
                    });

                    appointmentElement.innerHTML = `
                        <div class="flex items-center gap-4">
                             <div class="text-center bg-gray-900/50 rounded-md px-3 py-1 border border-gray-600">
                                <p class="font-bold text-teal-400 text-lg">${formattedDate.split(' ')[0]}</p>
                                <p class="text-xs text-slate-400 uppercase">${formattedDate.split(' ')[2]}</p>
                             </div>
                             <div>
                                <p class="font-semibold text-slate-100">${app.description}</p>
                                <p class="text-sm text-slate-400">${app.time}</p>
                            </div>
                        </div>
                        <button data-id="${app.id}" class="remove-btn flex-shrink-0 text-gray-500 hover:text-red-500 hover:scale-110 transition-all p-2 rounded-full hover:bg-red-500/10">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
                                <path d="M11 1.5v1h3.5a.5.5 0 0 1 0 1h-.538l-.853 10.66A2 2 0 0 1 11.115 16h-6.23a2 2 0 0 1-1.994-1.84L2.038 3.5H1.5a.5.5 0 0 1 0-1H5v-1A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5m-5 0v1h4v-1a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5M4.5 5.029l.5 8.5a.5.5 0 1 0 .998-.06l-.5-8.5a.5.5 0 1 0-.998.06m3 0l-.5 8.5a.5.5 0 1 0 .998.06l.5-8.5a.5.5 0 1 0-.998.06m2.5.029l-.5 8.5a.5.5 0 1 0 .998-.06l.5-8.5a.5.5 0 1 0-.998.06"/>
                            </svg>
                        </button>
                    `;
                    appointmentList.appendChild(appointmentElement);
                });
            };
            
            // Função para adicionar um novo compromisso
            const addAppointment = () => {
                const date = dateInput.value;
                const time = timeInput.value;
                const description = descriptionInput.value.trim();

                if (!date || !time || !description) {
                    // Simples notificação temporária no botão
                    const originalText = addButton.textContent;
                    addButton.textContent = 'Preencha todos os campos!';
                    addButton.classList.add('bg-red-500', 'hover:bg-red-600');
                    setTimeout(() => {
                        addButton.textContent = originalText;
                        addButton.classList.remove('bg-red-500', 'hover:bg-red-600');
                    }, 2000);
                    return;
                }

                const newAppointment = {
                    id: Date.now(),
                    date,
                    time,
                    description
                };

                appointments.push(newAppointment);
                saveAndRender();

                // Limpa os campos do formulário
                dateInput.value = '';
                timeInput.value = '';
                descriptionInput.value = '';
                descriptionInput.focus();
            };

            // Função para remover um compromisso
            const removeAppointment = (id) => {
                appointments = appointments.filter(app => app.id !== id);
                saveAndRender();
            };

            // Função para salvar no localStorage e re-renderizar
            const saveAndRender = () => {
                localStorage.setItem('appointments-dark', JSON.stringify(appointments));
                renderAppointments();
            };

            // Event Listeners
            addButton.addEventListener('click', addAppointment);
            
            appointmentList.addEventListener('click', (e) => {
                const removeButton = e.target.closest('.remove-btn');
                if (removeButton) {
                    const id = Number(removeButton.dataset.id);
                    removeAppointment(id);
                }
            });
            
            // Adiciona compromisso com a tecla Enter
            descriptionInput.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault(); // Impede a quebra de linha
                    addButton.click();
                }
            });

            // Renderização inicial ao carregar a página
            renderAppointments();
        });
    </script>
</body>
</html>

